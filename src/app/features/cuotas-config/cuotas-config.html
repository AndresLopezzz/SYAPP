<section class="card">
  <h2>Detalles del acuerdo de pago</h2>
  <p class="section-subtitle">
    Configure las cuotas y revise el resumen del acuerdo
  </p>

  <!-- Checkbox para activar configuración de cuotas -->
  <div class="checkbox-group">
    <input
      type="checkbox"
      id="asignarCuotas"
      [(ngModel)]="asignarCuotas"
      (ngModelChange)="onCheckboxChange()"
    />
    <label for="asignarCuotas">
      Desea asignar cuotas al acuerdo de pago?
    </label>
  </div>

  <!-- Configuración de cuotas (solo si el checkbox está marcado) -->
  <div class="configuracion-cuotas" *ngIf="asignarCuotas">
    <h3>Configuración de Cuotas</h3>
    <div class="cuotas-grid">
      <!-- Campo: Porcentaje primera cuota -->
      <div class="form-group">
        <label>
          Porcentaje primera cuota <span class="required">*</span>
        </label>
        <div class="input-with-suffix">
          <input
            type="number"
            [(ngModel)]="cuotas.porcentajePrimera"
            placeholder="0"
            min="0"
            max="100"
            (ngModelChange)="onInputChange()"
          />
          <span class="suffix">%</span>
        </div>
        <small>Porcentaje del total para la primera cuota.</small>
      </div>

      <!-- Campo: Número de cuotas -->
      <div class="form-group">
        <label>Número de cuotas <span class="required">*</span></label>
        <input
          type="number"
          [(ngModel)]="cuotas.numeroCuotas"
          placeholder="0"
          min="1"
          (ngModelChange)="onInputChange()"
        />
        <small>Cantidad total de cuotas a generar.</small>
      </div>

      <!-- Botón para calcular cuotas -->
      <div class="form-group">
        <label>Acción</label>
        <button
          class="btn-primary full-width"
          (click)="calcularCuotas()"
          [disabled]="!isFormValid()"
        >
          Prorrealizar Cuotas
        </button>
        <a href="#" class="link-small">Ver simulación de pagos</a>
      </div>
    </div>
  </div>
</section>
